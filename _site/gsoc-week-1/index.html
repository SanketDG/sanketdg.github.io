<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Summer of Code Week 1 - SanketDG</title>
    <meta name="description" content="So as I said in my previous blog post, I am working withcoala for language independentdocumentation extraction for this year’s Google Summer ofCode.">

    <link href='https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:300,400,900,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/gsoc-week-1/">
    <link rel="alternate" type="application/rss+xml" title="SanketDG" href="http://localhost:4000/feed.xml">
<script src="http://127.0.0.1:35729/livereload.js"></script></head>

    <body>
        <main class="u-container">
        <div class="c-page">
    <header class="c-page__header">
    <h1>SanketDG</h1>


    <p>
        <a href="/">Home</a><span
          class="u-separate"></span> <a href="/projects/">Projects</a><span class="u-separate"></span> <a href="/about/">About</a><span class="u-separate"></span><a href="/feed.xml">RSS</a>
    </p>
</header>

    <div class="c-page__main">
    <article class="c-article">
    <header class="c-article__header">
        <h1 class="c-article__title">Summer of Code Week 1</h1>
        <p class="c-article__time"><time datetime="2016-05-30T02:00:00+05:30" itemprop="datePublished">May 30, 2016</time></p>
    </header>

    <!-- Post Tags -->
    <ul class="c-tags">
    
      <li class="c-tag">gsoc</li>
    
      <li class="c-tag">coala</li>
    
      <li class="c-tag">python</li>
    
    </ul>

    <div class="c-article__main">
        <p>So as I said in my previous blog post, I am working with
<a href="http://coala-analyzer.org">coala</a> for language independent
documentation extraction for this year’s Google Summer of
Code.</p>

<p>It has been one week since the coding period has started,
and there has been some work done! I would like to explain
some stuff before we get started on the real work.</p>

<p>So, my project deals with language independent documentation
extraction. Turns out, documentation isn’t that independent
of the language. Most programming languages don’t have an
official documentation specification. But It could be said that
documentation is independent of the documentation standard
(hereby referred to as <code class="highlighter-rouge">docstyle</code>) it uses.</p>

<p>I have to extract parts/metadata from the documentation
like descriptions, parameters and their descriptions, return
descriptions and perform various analyzing routines on this
parsed metadata.</p>

<p>Most of my work is with the <a href="https://github.com/coala-analyzer/coala/blob/master/coalib/bearlib/languages/documentation/DocumentationComment.py"><code class="highlighter-rouge">DocumentationComment</code></a> class,
where I have to implement routines for each language/docstyle.
I started out with <code class="highlighter-rouge">python</code> first because of two reasons:</p>

<ul>
  <li>Its my favourite programming language (Duh!)</li>
  <li><code class="highlighter-rouge">coala</code> is written in <code class="highlighter-rouge">python</code>! (Duh again!)</li>
</ul>

<p>So <code class="highlighter-rouge">python</code> has its own docstyle, that is known
as “docstrings”, and they are clearly defined in <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>.
Note that PEP 257 is just a general styleguide on how to write
docstrings.</p>

<blockquote>
  <p>The PEP contains conventions, not laws or syntax</p>
</blockquote>

<p><em>It is not a specifictaion</em>.</p>

<p>Several documentation tools support compiling these docstrings
into API documentation like <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> and <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a>.
I aim to support both of them.</p>

<p>So, I have come up with the following signature for <code class="highlighter-rouge">DocumentationComment</code>:</p>

<p><code class="highlighter-rouge">
DocumentationComment(documentation, language, docstyle, indent, marker, range)
</code></p>

<p>Now let’s say <code class="highlighter-rouge">doc</code> is an instance of <code class="highlighter-rouge">DocumentationComment</code>.
<code class="highlighter-rouge">doc</code> would have a function named <code class="highlighter-rouge">parse_documentation()</code> that
would do the parsing and get the metadata. So if I have a function
with a docstring:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">best_docstring</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">param3</span><span class="p">):</span>
        <span class="s">"""
        This is the best docstring ever!

        :param param1:
            Very Very Long Parameter description.
        :param param2:
            Short Param description.

        :return: Long Return Description That Makes No Sense And Will
                 Cut to the Next Line.
        """</span>
        <span class="k">return</span> <span class="bp">None</span></code></pre></figure>

<p>And I load this into the <code class="highlighter-rouge">DocumentationComment</code> class and then apply the parsing:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">coalib.bearlib.languages.documentation.DocumentationComment</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">DocumentationComment</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationComment</span><span class="p">(</span><span class="n">best_docstring</span><span class="o">.</span><span class="n">__doc__</span><span class="p">,</span>
                           <span class="n">language</span><span class="o">=</span><span class="s">"python"</span><span class="p">,</span>
                           <span class="n">docstyle</span><span class="o">=</span><span class="s">"default"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">docdata</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">parse_documentation</span><span class="p">()</span></code></pre></figure>

<p><em>Note: Not all parameters are required for instantation</em>.</p>

<p>Now printing <code class="highlighter-rouge">repr(docdata)</code> would print:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[</span><span class="n">Desc</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">This is the best docstring ever!</span><span class="se">\n</span><span class="s">'</span><span class="p">),</span>
<span class="n">Param</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'param1:'</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">'    Very Very Long Parameter description.</span><span class="se">\n</span><span class="s">'</span><span class="p">),</span>
<span class="n">Param</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'param2:'</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">'    Short Param description.</span><span class="se">\n</span><span class="s">'</span><span class="p">),</span>
<span class="n">RetVal</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="s">'Long Return Description That Makes No Sense'</span>
            <span class="s">' And Will</span><span class="se">\n</span><span class="s">         Cut to the Next Line.</span><span class="se">\n</span><span class="s">'</span><span class="p">)]</span></code></pre></figure>

<p>You may ask about the strange formatting. That is because it retains the exact
formatting, as displayed in the docstring. This is important, because whatever
analyzing routines I run, I should always be able to “assemble” back to the
original docstring.</p>

<p>That’s it! This was my milestone for week 1, to parse and extract metadata out
of python docstrings! I have already started developing a simple Bear, that I
will talk about later this week.</p>

<p><strong>PS: I would <em>really</em> like to thank my mentor <a href="https://github.com/Makman2">Mischa Krüger</a> for his thoughts
on the API design and for doing reviews on my ugly code. :P</strong></p>


    </div>

    <!-- Previous / Next Buttons -->
    <div class="pagenav">
		
        <div class="wrapper" id="left">
          <small><b>Previous</b> Apr 25, 2016</small>
          <br>
          <a href="/gsoc-2016/">&laquo; GSoC 2016, here I come!</a>
        </div>
		
		
        <div class="wrapper" id="right">
          <small>Jun 10, 2016 <b>Next</b></small>
          <br>
          <a href="/gsoc-2016/">Summer of Code Week 2 &raquo;</a>
        </div>
		
		</div>

		<!-- Disqus comments view -->
		
		<div class="post-disqus">
				<section id="disqus_thread"></section>
				<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */

var disqus_config = function () {
  this.page.url = /gsoc-week-1/;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = /gsoc-week-1; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://sanketdg.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

		</div>
		
</article>

    </div>
    <footer class="c-page__footer">
    <p>&copy; SanketDG 2017</p>
    <p><a href="https://twitter.com/SanketDG">Twitter</a><span class="u-separate"></span><a href="https://github.com/SanketDG">Github</a></p>
</footer>

</div>

        </main>
    
    </body>
</html>
